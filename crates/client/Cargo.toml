[package]
name = "antegen-client"
version = "0.1.0"
edition = "2021"

[dependencies]
anyhow = { workspace = true }
async-trait = { workspace = true }
futures = { workspace = true }
log = { workspace = true }
opentelemetry = { workspace = true }
solana-account-decoder = { workspace = true }
solana-client = { workspace = true }
solana-program = { workspace = true }
solana-sdk = { workspace = true }
tokio = { workspace = true }
url = { workspace = true }

# Internal dependencies
antegen-processor = { path = "../processor" }
antegen-submitter = { path = "../submitter" }

# Optional Carbon dependencies
carbon-core = { version = "0.9.1", optional = true }
carbon-rpc-program-subscribe-datasource = { version = "0.9.1", optional = true }
carbon-yellowstone-grpc-datasource = { version = "0.9.1", optional = true }
carbon-log-metrics = { version = "0.9.1", optional = true }
yellowstone-grpc-proto = { version = "6.0.0", optional = true }

[features]
default = []
carbon = [
    "carbon-core",
    "carbon-rpc-program-subscribe-datasource",
    "carbon-yellowstone-grpc-datasource",
    "carbon-log-metrics",
    "yellowstone-grpc-proto",
]